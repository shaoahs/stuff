import * as message from 'demo/demo';

let logger = null;
let CustomFormat = null;
function init(config) {
  logger = config.logger;
  CustomFormat = config.CustomFormat;
}

/**
 * 產生結果
 * @param input 輸入資訊
 */
function generate(input) {
  let Game = message.Game;
  let utf8Encoder = new TextEncoder();

  let packet = {
    command: "result"
  };
  packet.resultCode = 1;
  
  packet.format = CustomFormat.JSON;
  packet.data = `{\"NormalGameData\":[{\"addFreeTimes\":0,\"allOfKind\":0,\"cellBox\":[0,1,0,0,0,0,0,1,0,0,1,0,0,0,0],\"cellTotem\":[9,3,14,9,10,4,9,3,4,4,3,1,14,10,5],\"endFreeTimes\":0,\"endLight\":1,\"fiveOfKind\":0,\"lineHitAmount\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"lineHitScore\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2000,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"lineHitTotem\":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],\"scatterBonusAmount\":0,\"scatterFreeAmount\":0,\"startFreeTimes\":0,\"startLight\":1,\"totalLineScore\":2000,\"wildMtp\":1,\"winScore\":2000},{\"addFreeTimes\":0,\"allOfKind\":0,\"cellBox\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],\"cellTotem\":[15,3,3,3,3,3,3,3,3,3,3,3,3,3,8],\"endFreeTimes\":0,\"endLight\":1,\"fiveOfKind\":1,\"lineHitAmount\":[5,5,4,5,4,5,5,4,5,5,5,5,4,5,5,5,4,4,5,5,4,5,4,5,4,4,5,5,5,4,5,5,5,4,5,4,5,5,4,5,4,5,5,4,5,5,5,5,4,5,5,5,4,5,4,5,4,5,4,5,5,5,5,5,4,5,5,5,5,4,5,4,5,5,5,5,4,5,4,5,5,5,5,4,5,5,4,5,5,4,5,5,4,5,5,5,5,5,4],\"lineHitScore\":[10000,10000,4000,10000,4000,10000,10000,4000,10000,10000,10000,10000,4000,10000,10000,10000,4000,4000,10000,10000,4000,10000,4000,10000,4000,4000,10000,10000,10000,4000,10000,10000,10000,4000,10000,4000,10000,10000,4000,10000,4000,10000,10000,4000,10000,10000,10000,10000,4000,10000,10000,10000,4000,10000,4000,10000,4000,10000,4000,10000,10000,10000,10000,10000,4000,10000,10000,10000,10000,4000,10000,4000,10000,10000,10000,10000,4000,10000,4000,10000,10000,10000,10000,4000,10000,10000,4000,10000,10000,4000,10000,10000,4000,10000,10000,10000,10000,10000,4000],\"lineHitTotem\":[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],\"scatterBonusAmount\":0,\"scatterFreeAmount\":0,\"startFreeTimes\":0,\"startLight\":1,\"totalLineScore\":804000,\"wildMtp\":1,\"winScore\":804000},{\"addFreeTimes\":0,\"allOfKind\":1,\"cellBox\":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],\"cellTotem\":[15,3,3,3,3,3,3,3,3,3,3,3,3,3,3],\"endFreeTimes\":0,\"endLight\":1,\"fiveOfKind\":1,\"lineHitAmount\":[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],\"lineHitScore\":[10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000,10000],\"lineHitTotem\":[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3],\"scatterBonusAmount\":0,\"scatterFreeAmount\":0,\"startFreeTimes\":0,\"startLight\":1,\"totalLineScore\":990000,\"wildMtp\":1,\"winScore\":3776000}],\"WholeGameData\":{\"bonusGame\":false,\"freeGame\":false,\"jpGame\":false,\"totalBonusWinScore\":0,\"totalFreeGameTimes\":0,\"totalFreeWinScore\":0,\"totalJPWinScore\":0,\"totalNormalWinScore\":3776000,\"totalWinScore\":3776000},\"bet\":1000,\"cmdResult\":1,\"credit\":199400000,\"normalGameData\":[{\"$ref\":\"$.NormalGameData[0]\"},{\"$ref\":\"$.NormalGameData[1]\"},{\"$ref\":\"$.NormalGameData[2]\"}],\"wholeGameData\":{\"$ref\":\"$.WholeGameData\"},\"win\":3776000}`;
  packet.data = utf8Encoder.encode(packet.data);

  let jackpot = {};
  jackpot.format = CustomFormat.JSON;
  jackpot.data = `{\"mJpOutIdx\":0,\"mJpOutScene\":\"NULL\",\"mJpOutValue\":0,\"mJpValue\":[630448351,568512471,687529628,62409960,70048720,1041400],\"resultCode\":1}`;
  jackpot.data = utf8Encoder.encode(jackpot.data);
  packet.jackpot = jackpot;

  //----
  logger.info('產生資料');
  console.log(packet);
  return packet;
}

export default {
  init,
  generate
}
